{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/HP/Documents/ove-interview/node_modules/@babel/runtime/regenerator\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _asyncToGenerator from \"C:/Users/HP/Documents/ove-interview/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useEffect, useState } from 'react';\nimport Head from 'next/head';\nimport Image from 'next/image';\nimport { Heading, Link, Text, Flex, Box } from '@chakra-ui/react';\nimport { calculator, FETCH_DATA } from './state/calculator';\nimport { DEFAULT_BASE } from './api/actions';\nimport DefaultLayout from '../components/layouts/Default';\nimport CurrencyStack from '../components/CurrencyStack';\nimport styles from '../styles/Home.module.css';\nexport default function Home() {\n  var _useState = useState(DEFAULT_BASE),\n      base = _useState[0],\n      setBase = _useState[1]; // eslint-disable-line no-unused-vars\n\n\n  var _useState2 = useState(7),\n      timeframe = _useState2[0],\n      setTimeframe = _useState2[1]; // eslint-disable-line no-unused-vars\n\n\n  var _useState3 = useState([]),\n      rateData = _useState3[0],\n      setRateData = _useState3[1];\n\n  var _useState4 = useState([]),\n      symbolList = _useState4[0],\n      setSymbolList = _useState4[1]; // This function automatically changes our state based on the incoming variable\n  // then updates the website accordingly\n\n\n  function loadData() {\n    return _loadData.apply(this, arguments);\n  } // At the start, we want to display the rates in terms of EUR\n\n\n  function _loadData() {\n    _loadData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var change,\n          data,\n          symbols,\n          _args = arguments;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              change = _args.length > 0 && _args[0] !== undefined ? _args[0] : null;\n\n              if (!(change !== null)) {\n                _context.next = 15;\n                break;\n              }\n\n              if (!(typeof change === 'number')) {\n                _context.next = 9;\n                break;\n              }\n\n              setTimeframe(change);\n              _context.next = 6;\n              return calculator(FETCH_DATA, base, change);\n\n            case 6:\n              data = _context.sent;\n              _context.next = 13;\n              break;\n\n            case 9:\n              setBase(change);\n              _context.next = 12;\n              return calculator(FETCH_DATA, change, timeframe);\n\n            case 12:\n              data = _context.sent;\n\n            case 13:\n              _context.next = 18;\n              break;\n\n            case 15:\n              _context.next = 17;\n              return calculator(FETCH_DATA, base, timeframe);\n\n            case 17:\n              data = _context.sent;\n\n            case 18:\n              // Set the rate data and symbol list\n              setRateData(data);\n              console.log(data);\n              symbols = [];\n              Object.keys(data).map(function (c) {\n                return symbols.push(c);\n              });\n              setSymbolList(symbols);\n\n            case 23:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _loadData.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    loadData();\n  }, []);\n  return /*#__PURE__*/_jsx(DefaultLayout, {\n    symbols: symbolList,\n    loadData: loadData,\n    children: /*#__PURE__*/_jsxs(Box, {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxs(Head, {\n        children: [/*#__PURE__*/_jsx(\"title\", {\n          children: \"Rates Imperial\"\n        }), /*#__PURE__*/_jsx(\"link\", {\n          rel: \"icon\",\n          href: \"/favicon.ico\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"main\", {\n        className: styles.main,\n        children: [/*#__PURE__*/_jsxs(Heading, {\n          as: \"h1\",\n          size: \"2xl\",\n          mb: \"2\",\n          children: [\"Welcome to \", /*#__PURE__*/_jsx(Link, {\n            color: \"teal.500\",\n            children: \"Rates Imperial!\"\n          })]\n        }), /*#__PURE__*/_jsx(Text, {\n          fontSize: \"xl\",\n          mt: \"2\",\n          children: \"See the exchange rates for most currencies here!\"\n        }), /*#__PURE__*/_jsx(Flex, {\n          flexWrap: \"wrap\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          maxW: \"800px\",\n          mt: \"10\",\n          children: /*#__PURE__*/_jsx(CurrencyStack, {\n            rows: rateData\n          })\n        })]\n      }), /*#__PURE__*/_jsx(\"footer\", {\n        className: styles.footer,\n        children: /*#__PURE__*/_jsxs(\"a\", {\n          href: \"https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: [\"Powered by\", ' ', /*#__PURE__*/_jsx(Image, {\n            src: \"/vercel.svg\" // Route of the image file\n            ,\n            height: 70 // Desired size with correct aspect ratio\n            ,\n            width: 70 // Desired size with correct aspect ratio\n            ,\n            alt: \"Vercel Logo\"\n          })]\n        })\n      })]\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}